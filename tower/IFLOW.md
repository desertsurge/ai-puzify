# 塔防游戏项目

## 项目概述

这是一个完整的塔防游戏，玩家需要建造防御塔来保护小动物免受敌人攻击。游戏包含多种防御塔类型、敌人类型、升级系统和多个地图。

## 项目结构

```
tower/
├── index.html        # 游戏主页面
├── styles.css        # 游戏样式
├── game.js          # 游戏逻辑
└── IFLOW.md         # 项目说明文档
```

## 游戏特性

### 防御塔系统
- **弓箭手** (🏹): 远程单体攻击，费用20金币
- **魔法师** (🧙): 范围魔法攻击，费用40金币
- **火炮** (💣): 高伤害溅射攻击，费用60金币
- **冰法师** (❄️): 减速敌人，费用35金币

### 敌人系统
- **基础敌人** (👾): 平衡的血量和速度
- **快速敌人** (🐢): 高速度低血量
- **坦克敌人** (🛡️): 高血量低速度
- **飞行敌人** (🦇): 中等属性

### 游戏机制
- 防御塔升级系统：提升攻击力和攻击速度
- 波次系统：敌人随波次增强防御力
- 多地图支持：森林路径、沙漠绿洲、冰雪世界
- 金币系统：击败敌人获得金币
- 生命值系统：保护小动物，血量归零游戏结束

### 游戏控制
- 暂停/继续游戏
- 游戏速度调节 (x1, x2, x3)
- 地图切换
- 防御塔升级和出售

## 技术实现

### 前端技术
- HTML5 Canvas 游戏渲染
- CSS3 动画和响应式设计
- 原生 JavaScript ES6+
- 面向对象编程架构

### 核心类
- `GameState`: 游戏状态管理
- `MapSystem`: 地图系统
- `Tower`: 防御塔系统
- `Enemy`: 敌人系统
- `Projectile`: 投射物系统
- `WaveSystem`: 波次系统

## 运行方式

1. 直接在浏览器中打开 `index.html` 文件
2. 或者使用本地服务器运行：
```bash
# 使用 Python
python -m http.server 8000

# 使用 Node.js
npx http-server

# 使用 PHP
php -S localhost:8000
```
3. 访问 `http://localhost:8000`

## 游戏玩法

1. 选择防御塔类型
2. 在绿色圆圈位置点击放置防御塔
3. 点击"开始下一波"按钮开始游戏
4. 击败敌人获得金币和分数
5. 使用金币升级防御塔或建造新的防御塔
6. 保护小动物，防止敌人到达终点

## 开发说明

### 自定义地图
在 `MapSystem` 类的 `maps` 数组中添加新地图配置：
```javascript
{
    name: '地图名称',
    path: [/* 路径点坐标 */],
    animalPosition: {x: x坐标, y: y坐标},
    towerSpots: [/* 防御塔位置 */]
}
```

### 添加新防御塔类型
在 `Tower` 类构造函数中添加新的防御塔类型配置。

### 添加新敌人类型
在 `Enemy` 类构造函数中添加新的敌人类型配置。

## 更新日志

### 2025-10-26
- 完成游戏核心功能开发
- 实现完整的防御塔系统
- 实现敌人波次系统
- 添加多地图支持
- 完善游戏UI和交互
- 添加视觉效果和动画